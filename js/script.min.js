let userNavigation = document.querySelector(".js-user-nav"),
  popup = document.querySelector(".js-popup"),
  slider = document.querySelector(".js-slider"),
  subscribe = document.querySelector(".js-subscribe"),
  filter = document.querySelector(".js-catalog__filter"),
  isStorageSupport = !0,
  storageName = "",
  storageEmail = "";
try {
  storageName = localStorage.getItem("userName")
} catch (a) {
  isStorageSupport = !1
}
try {
  storageEmail = localStorage.getItem("userEmail")
} catch (a) {
  isStorageSupport = !1
}
if (userNavigation) {
  let a = userNavigation.querySelector(".js-search-open"),
    b = userNavigation.querySelector(".js-search-form"),
    c = b.querySelector(".js-search-form__input"),
    d = userNavigation.querySelector(".js-enter-open"),
    e = userNavigation.querySelector(".js-enter-form"),
    f = userNavigation.querySelector(".js-enter-form__email"),
    g = userNavigation.querySelector(".js-enter-form__password"),
    h = userNavigation.querySelector(".js-basket-open"),
    i = userNavigation.querySelector(".js-basket-form");
  a.addEventListener("click", function (a) {
    a.preventDefault(), b.classList.toggle("search-form--active"), b.classList.contains("search-form--active") && (e.classList.remove("enter-form--active"), i.classList.remove("basket-form--active"))
  }), b.addEventListener("submit", function (a) {
    a.preventDefault(), alert("\u0418\u0449\u0443 " + c.value)
  }), d.addEventListener("click", function (a) {
    a.preventDefault(), e.classList.toggle("enter-form--active"), e.classList.contains("enter-form--active") && (b.classList.remove("search-form--active"), i.classList.remove("basket-form--active"));
    f.focus(), storageEmail ? (f.value = storageEmail, g.focus()) : f.focus()
  }), e.addEventListener("submit", function (a) {
    a.preventDefault(), alert("\u0410\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u044F \u043F\u0440\u043E\u0448\u043B\u0430 \u0443\u0441\u043F\u0435\u0448\u043D\u043E"), isStorageSupport && localStorage.setItem("userEmail", f.value)
  }), h.classList.contains("user-nav__btn--basket-active") ? (h.addEventListener("click", function (a) {
    a.preventDefault(), i.classList.toggle("basket-form--active"), b.classList.remove("search-form--active"), e.classList.remove("enter-form--active")
  }), i.addEventListener("submit", function (a) {
    a.preventDefault(), alert("\u0417\u0430\u043A\u0430\u0437 \u043E\u0444\u043E\u0440\u043C\u043B\u0435\u043D!")
  })) : h.addEventListener("click", function (a) {
    a.preventDefault(), b.classList.remove("search-form--active"), e.classList.remove("enter-form--active")
  });
  window.addEventListener("keydown", function (a) {
    27 === a.keyCode && (b.classList.contains("search-form--active") && b.classList.remove("search-form--active"), e.classList.contains("enter-form--active") && e.classList.remove("enter-form--active"), i.classList.contains("basket-form--active") && i.classList.remove("basket-form--active"))
  })
}
if (subscribe) {
  let a = subscribe.querySelector(".js-subscribe__input");
  storageEmail && (a.value = storageEmail);
  isStorageSupport && localStorage.setItem("userEmail", a.value);
  subscribe.addEventListener("submit", function (b) {
    b.preventDefault(), alert("\u0422\u0435\u043F\u0435\u0440\u044C \u0432\u0430\u0448 email: " + a.value + " \u0432\u043E \u0432\u0441\u0435\u0445 \u0421\u041F\u0410\u041C-\u043B\u0438\u0441\u0442\u0430\u0445 \uD83D\uDE08")
  })
}
if (popup) {
  let a = document.querySelector(".js-overlay"),
    b = document.querySelector(".js-popup-open"),
    c = popup.querySelector(".js-popup-close"),
    d = popup.querySelector(".js-feedback-form"),
    e = popup.querySelector(".js-feedback-form__user-name"),
    f = popup.querySelector(".js-feedback-form__user-email"),
    g = popup.querySelector(".js-feedback-form__user-message");
  b.addEventListener("click", function (b) {
    b.preventDefault(), popup.classList.contains("popup--active") || (popup.classList.add("popup--active"), a.classList.add("overlay--active"), e.focus());
    storageName && !storageEmail ? (e.value = storageName, f.focus()) : storageName && storageEmail ? (e.value = storageName, f.value = storageEmail, g.focus()) : e.focus()
  }), d.addEventListener("submit", function (a) {
    a.preventDefault(), e.value && f.value && g.value ? alert(e.value + " \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0432\u0432\u0435\u043B: " + f.value + " \u0438 \u043D\u0430\u043F\u0438\u0441\u0430\u043B: " + g.value) : (a.preventDefault(), popup.classList.remove("popup--error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("popup--error"));
    isStorageSupport && (localStorage.setItem("userName", e.value), localStorage.setItem("userEmail", f.value))
  }), c.addEventListener("click", function (b) {
    b.preventDefault(), popup.classList.contains("popup--active") && (popup.classList.remove("popup--active"), popup.classList.remove("popup--error"), a.classList.remove("overlay--active"))
  }), a.addEventListener("click", function (b) {
    b.preventDefault(), a.classList.contains("overlay--active") && (popup.classList.remove("popup--active"), popup.classList.remove("popup--error"), a.classList.remove("overlay--active"))
  }), window.addEventListener("keydown", function (b) {
    27 === b.keyCode && popup.classList.contains("popup--active") && (popup.classList.remove("popup--active"), popup.classList.remove("popup--error"), a.classList.remove("overlay--active"))
  })
}
if (slider) {
  let a = document.querySelector(".js-body"),
    b = slider.querySelectorAll(".js-slider-item"),
    c = slider.querySelectorAll(".js-slider-toggle");
  c[0].addEventListener("click", function () {
    c[0].classList.contains("slider__toggle--active") || b[0].classList.contains("slider__item--active") || (c[1].classList.toggle("slider__toggle--active", !1), b[1].classList.toggle("slider__item--active", !1), c[2].classList.toggle("slider__toggle--active", !1), b[2].classList.toggle("slider__item--active", !1), c[0].classList.add("slider__toggle--active"), b[0].classList.add("slider__item--active"), a.style.backgroundColor = "")
  }), c[1].addEventListener("click", function () {
    c[1].classList.contains("slider__toggle--active") || b[1].classList.contains("slider__item--active") || (c[0].classList.toggle("slider__toggle--active", !1), b[0].classList.toggle("slider__item--active", !1), c[2].classList.toggle("slider__toggle--active", !1), b[2].classList.toggle("slider__item--active", !1), c[1].classList.add("slider__toggle--active"), b[1].classList.add("slider__item--active"), a.style.backgroundColor = "#8996A6")
  }), c[2].addEventListener("click", function () {
    c[2].classList.contains("slider__toggle--active") || b[2].classList.contains("slider__item--active") || (c[0].classList.toggle("slider__toggle--active", !1), b[0].classList.toggle("slider__item--active", !1), c[1].classList.toggle("slider__toggle--active", !1), b[1].classList.toggle("slider__item--active", !1), c[2].classList.add("slider__toggle--active"), b[2].classList.add("slider__item--active"), a.style.backgroundColor = "#9D8B84")
  })
}
filter && filter.addEventListener("submit", function (a) {
  a.preventDefault(), alert("\u0424\u0438\u043B\u044C\u0442\u0440\u0443\u044E \u0441\u043F\u0438\u0441\u043E\u043A")
});
